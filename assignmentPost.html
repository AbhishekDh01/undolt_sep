

<!DOCTYPE html>
<html>
<head>
	<title>Assignment Uploading</title>
	<script src="//ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
	<script src="https://code.jquery.com/jquery-1.11.3.js"></script>
	
</head>
<body>

	<div id="loading" style="display:none; padding:20px; margin: auto;
  width: 50%;">
		   <img src="images/uploading.gif" border="0">
	</div>

	
	<form action="assignmentPostBack.php" method="post" enctype="multipart/form-data" style="text-align: center;" class="upload-form" id="myform">
			<h2>Assignment Uploading</h2>		

			<input type="text" name="subject" placeholder="Subject Name" required="required">

			<input type="text" name="topic" placeholder="Topic Name" required="required">

	<!-- 		<input type="text" name="question" placeholder="Write your Question/Assignment" required="required" > -->

			<input type="text" name="info" placeholder="Enter as such as you can give information about your Assignment/question, books, paper etc." required="required">

			<p> Deadline : 
			<input type="date" name="date" class="date" id="deadline" placeholder="Deadline" >
			</p>

			<p>
			Add assignment image/pdf, books pdf, previous assignment (optional) Max file: 4 <input type="file" name="files[]" class="upload-file" data-max-size="8388608" multiple >
			</p>
			
			<input type="submit" name="AssignSubmit" value="Submit">
		
	</form>

</body>
</html>

<script>
$(function(){
    var fileInput = $('.upload-file');
    var maxSize = fileInput.data('max-size');


    $('.upload-form').submit(function(e){
        if(fileInput.get(0).files.length<5){
            var fileSize = fileInput.get(0).files[0].size; // in bytes
            if(fileSize>maxSize){
                alert('Error : file size is more then 8MB ');
                return false;
            }else{
                var x = document.getElementById('myform');
				x.style.display = "none";
				loading.style.display="";
            }
        }else{
            alert('Files are more than 4');
            return false;
        }


    });
});

$(function(){
   document.getElementById("deadline").addEventListener("change", function() {
    var input = this.value;
    var dateEntered = new Date(input);
    var today = new Date();
    if(dateEntered>=today){
    	
    	this.setCustomValidity("");
    }else{
    	this.setCustomValidity("Please Enter valid date");
    }
});
});

    </script>



